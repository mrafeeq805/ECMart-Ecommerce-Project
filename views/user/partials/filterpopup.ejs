<div id="filterproduct" class="transition h-screen ease-out duration-3000  w-full hidden justify-center items-end fixed inset-0 z-50 bg-[rgba(0,0,0,0.2)]">
    <script src="/javascript/user/product.js"></script>
    <div class=" bg-white w-full flex flex-col relative h-full">

        <div class="flex items-center justify-between pb-3 border-b-2 mt-3 px-4">
            <div class="">
                <span class="font-medium">FILTERS</span>
            </div>
            <input type="hidden" name="" id="filter-category" value="<%= category %>">
            <button  type="button" onclick="clearFilter()" class="font-medium flex justify-center items-center text-red-500">
                CLEAR ALL
            </button>
        </div>
        <div class="flex ">
            <div class="w-1/3 bg-gray-200 h-fit">
                <button id="brand-div" onclick="showFilterCard(this)" class="bg-white py-3 w-full flex items-start px-4 border-b-[1px] border-gray-300">
                    <span class="text-sm text-gray-500">Brand</span>
                </button>
                <button id="price-div" onclick="showFilterCard(this)"class="py-3 px-4 w-full flex items-start border-b-[1px] border-gray-300">
                    <span class="text-sm text-gray-500">Price</span>
                </button>
                <button id="discount-div" onclick="showFilterCard(this)" class="py-3 px-4 w-full flex items-start border-b-[1px] border-gray-300">
                    <span class="text-sm text-gray-500">Discount</span>
                </button>
            </div>
            <div>
                <!-- BrandCard -->
                <div id="filter-brand-card" class=" pb-4 p-4">

                    <div class="mt-1">
                        <ul class="w-48 text-sm font-medium text-gray-900 bg-white rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            <%Object.keys(details.brandscount).forEach(item=>{ %>
                                <li class="w-full  rounded-t-lg dark:border-gray-600">
                                    <div class="flex items-center ">
                                        <input name="check" onchange="brandSelected(this)" id="<%= item %>" type="checkbox" value="" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                                        <span  class=" py-1  ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"><%= item %></span><span class=" text-gray-600 text-xs ml-2">( <%= details.brandscount[item] %> )</span>
                                    </div>
                                </li>
                            <%})%>
                            

                        </ul>
                    
                    </div>
                </div>
                <input type="hidden" value="[]" name="" id="brand-inp">
                <!-- PriceCard -->
                <div id="filter-price-card" class="hidden pb-4 p-4">

                    <div class="mt-1">
                        <ul class="w-48 text-sm font-medium text-gray-900 bg-white rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            <%  var ranges = ['0-299', '300-499', '500-699', '700-999', '1000 +'] %>
                            <%  var rangeslbl = ['Rs. 299 and Below', 'Rs. 300 to Rs. 499', 'Rs. 500 to Rs. 699', 'Rs. 700 to Rs. 999', 'Rs. 1000 and Above'] %>
                            <% details.pricecount.forEach((item,index)=>{%>
                                <li class="w-full  rounded-t-lg dark:border-gray-600">
                                    <div class="flex items-center ">
                                        <input name="check" onchange="priceSelected(this)" id="<%= ranges[index]%>" type="checkbox" value="" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                                        <span  class=" py-1  ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"><%= rangeslbl[index]%></span><span class=" text-gray-600 text-xs ml-2">( <%= item[ranges[index]] == undefined ? 0 : item[ranges[index]] %> )</span>
                                    </div>
                                </li>
                            <%})%>

                        </ul>
                    
                    </div>
                </div>
                <input type="hidden" value="[]" name="" id="price-inp">
                <!-- DiscountCard -->
                <div id="filter-discount-card" class="hidden pb-4 p-4">

                    <div class="mt-1">
                        <ul class="w-48 text-sm font-medium text-gray-900 bg-white rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            <%  var ranges = ['0-10', '11-20', '21-30', '31-40','41-50', '51 +'] %>
                            <%  var rangeslbl = ['10% and Below', '11% to 20%', '21% to 30%', '31% to 40%','41% to 50%', '51% and Above'] %>
                            <% details.discountcount.forEach((item,index)=>{%>
                                <li class="w-full  rounded-t-lg dark:border-gray-600">
                                    <div class="flex items-center ">
                                        <input name="check" onchange="discountSelected(this)" id="<%= ranges[index]%>" id="checkbox" type="checkbox" value="" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                                        <span  class=" py-1  ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"><%= rangeslbl[index]%></span><span class=" text-gray-600 text-xs ml-2">( <%= item[ranges[index]] == undefined ? 0 : item[ranges[index]] %> )</span>
                                    </div>
                                </li>
                            <%})%>

                        </ul>
                    
                    </div>
                </div>
                <input type="hidden" value="[]" name="" id="discount-inp">
            </div>


        </div>
        <div  class="flex absolute bottom-0 border-t-2 w-full items-center justify-between py-3  mt-3 px-4">
            <button onclick="closeFilter()" class="border-r-2 flex justify-center items-center w-full">
                <span class="font-medium text-gray-500">CLOSE</span>
            </button>
            <input type="hidden" name="" id="filter-category" value="<%= category %>">
            <button  type="button" onclick="filterProduct()" class="w-full font-medium flex justify-center items-center text-red-500">
                APPLY
            </button>
        </div>
            
        

    </div>
</div>
