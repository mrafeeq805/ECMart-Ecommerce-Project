<%- include("../admin/partials/head.ejs",{page:'transactions'}); -%>

<div class="w-full">
    <div class="">
        <span class="text-3xl font-semibold ">Transactions</span>
        <span class="text-xs ml-6 text-[#00000080]"><%= list.length%> transactions found</span>
    </div>
    <script src="/javascript/admin/transactions.js"></script>
    <div class="flex gap-3 justify-end">
        <div class="flex items-center ">

            <select onchange="filterTransaction(this)" class="border-2 rounded-md py-2 bg-inherit text-gray-500 px-8" name="product-filter" id="product-filter">
                <option class="text-gray-500" value="Filter By">Filter By</option>
                <% methods.forEach((item)=>{ %>
                    <option class="text-gray-500" value="<%= item %>"><%= item %></option>
                <%})%>
                
            </select>

        </div>
        <div class="rounded-md bg-transparent border-gray-200 border-2 flex">
            <select onchange="setType()" id="transaction_search_type" class="pl-3 bg-inherit" name="customer_search_type">
                <option value="method">Method</option>
                <option value="phone">Phone</option>
            </select>
            <input id="transaction_search" name="transacion_search" class="bg-transparent pl-4 outline-none w-80" type="text" placeholder="Search...">
            <button onclick="searchTransaction()" class="bg-[#1a91ff] flex justify-center items-center p-2 ">
                <span class="material-symbols-outlined text-white">search</span>
            </button>
        </div>
    </div>
    <!-- table -->
    <table class="w-full border-separate border-spacing-y-3" >
        <tr class="text-left border-b-2 ">
            <th class="text-[#00000070] border-b-[1px] border-slate-300 mr-2">
                <span class="">#</span>
            </th>
            <th class="text-[#00000070] border-b-[1px] border-slate-300">
                <div class="flex justify-between items-center mx-2">
                    <span class="">ID</span>
                    <div class="flex flex-col">
                        <button onclick="sortTransaction(this)" id="ts-sort-id-asc" class="material-symbols-outlined text-black h-4 flex justify-center items-center text-xl">
                            expand_less
                        </button>
                        <button onclick="sortTransaction(this)" id="ts-sort-id-des" class="material-symbols-outlined text-black h-4 flex justify-center items-center text-xl">
                            expand_more
                        </button>
                    </div>
                </div>
                
            </th>
            <th class="text-[#00000070] border-b-[1px] border-slate-300 ">
                <div class="flex justify-between items-center mx-2">
                    <span class="">Payment ID</span>
                </div>
                
            </th>
            <th class="text-[#00000070] border-b-[1px] border-slate-300 ">
                <div class="flex justify-between items-center mx-2">
                    <span class="">Phone</span>
                </div>
                
            </th>
            <th class="text-[#00000070] border-b-[1px] border-slate-300">
                <div class="flex justify-between items-center mx-2">
                    <span class="">Method</span>
                    <div class="flex flex-col">
                        <button onclick="sortTransaction(this)" id="ts-sort-method-asc" class="material-symbols-outlined text-black h-4 flex justify-center items-center text-xl">
                            expand_less
                        </button>
                        <button onclick="sortTransaction(this)" id="ts-sort-method-des" class="material-symbols-outlined text-black h-4 flex justify-center items-center text-xl">
                            expand_more
                        </button>
                    </div>
                </div>
                
            </th>
            
            <th class="text-[#00000070] border-b-[1px] border-slate-300 ">
                <div class="flex justify-between items-center mx-2 w-max">
                    <span class="mr-2">Date</span>
                    
                </div>
                
            </th>
            <th class="text-[#00000070] border-b-[1px] border-slate-300">
                <div class="flex justify-between items-center mx-2">
                    <span class="mr-2">Amount</span>
                    <div class="flex flex-col">
                        <button onclick="sortTransaction(this)" id="ts-sort-amount-asc" class="material-symbols-outlined text-black h-4 flex justify-center items-center text-xl">
                            expand_less
                        </button>
                        <button onclick="sortTransaction(this)" id="ts-sort-amount-des" class="material-symbols-outlined text-black h-4 flex justify-center items-center text-xl">
                            expand_more
                        </button>
                    </div>
                </div>
                
            </th>
            <th class="text-[#00000070] border-b-[1px] border-slate-300 ">
                <div class="flex justify-between items-center mx-2">
                    <span class="mr-2">Status</span>
                </div>
                
            </th>
            

        </tr>

        <tbody id="table-container">
            <%-include('../admin/partials/tabledata-transactions.ejs')%>
        </tbody>
        
        
        
        
    </table>
    
</div>
<%- include("../admin/partials/footer.ejs"); -%>